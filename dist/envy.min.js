"use strict";function NV(){}NV.onload=function(t){var n=window.onload;window.onload=function(o){n&&n(o),t(o)}.bind(window)},NV.on=function(t,n){var o=window["on"+t];window["on"+t]=function(t){o&&o(t),n(t)}.bind(window)},NV.fetchJson=function(t,n){return new Promise(function(o,e){fetch(t,n).then(function(t){if(t.ok)return t.json();throw new MediaError(t.status+" "+t.statusText)}).then(o).catch(e)})},NV.fetchText=function(t,n){return new Promise(function(o,e){fetch(t,n).then(function(t){if(t.ok)return t.text();throw new MediaError(t.status+" "+t.statusText)}).then(o).catch(e)})},NV.merge=function(t,n,o){if(void 0==o&&(o="ours"),"object"!=typeof t)throw new TypeError("Target must be an object");if("object"!=typeof n)throw new TypeError("Source must be an object");if("string"==typeof o)switch(o.toLowerCase()){case"ours":o=function(t){return t};break;case"theirs":o=function(t,n){return n};break;case"error":o=function(t,n,o){if(t!=n)throw new TypeError("Merge conflict on key "+o)}}for(var e=[{target:t,source:n}];e.length;){var r=e.pop(),c=r.target,i=r.source;Object.keys(i).forEach(function(t){t in i&&("object"==typeof i[t]?("object"!=typeof c[t]&&(c[t]={}),e.push({target:c[t],source:i[t]})):t in c?c[t]=o(c[t],i[t]):c[t]=i[t])})}return t};